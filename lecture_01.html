    <h1>Week One</h1>
	<h2>Lecture 1</h2>
	<p><em>Lecture: Mon 27th January 2014 &nbsp;-&nbsp; Today: Thu 20th February 2014</em></p>
    <p><a href="audio/Lecture_1.mp3">Audio Recording</a></p>
    <ul>
        <li><a href="https://secure.ecs.soton.ac.uk/module/1314/ELEC6032/11296/syllabus">Syllabus</a> 
            pretty much same as last year</li>
        <br />
        <li><a href="http://www.hpcc.ecs.soton.ac.uk/~dan/">Denis</a> will do all 
            teaching (&gt;50%)</li>
            <li><a href="https://secure.ecs.soton.ac.uk/people/bh9">Basel</a> will do all 
            <a href="https://secure.ecs.soton.ac.uk/module/1314/ELEC6032/11296/pastpapers">examination</a> 
            &amp; most of the coursework</li>
    </ul>
    <br />
    <center><img src="images/maths_warning.gif" /></center>
    <br />
    <h3>What's Interesting?</h3>
    <ul>
        <li>Interesting crypto is to do with public key cryptosystems</li>
        <li>Symmetric key systems -- in which there is a single key shared between the 
            communicating parties -- are pretty well understood</li>
        <li>Block ciphers are no longer interesting, AES is great, job done!</li>
        <li>Stream ciphers are a little more interesting</li>
        <li>RSA is good, but anyone who is anyone is working with elliptic curves</li>
    </ul>

    <h3>What Will you get out this module?</h3>
    <ul>
        <li>Right now, you should understand most of the basic ideas</li>
        <li>You will learn more about the basic mathematics behind it</li>
        <li>Know where the field is heading</li>
    </ul>
    <h4>Elliptic Curves</h4>
    <ul>
        <li>Should be able to understand how to use elliptic curve library
        <li>Should understand where you would begin in designing a new library</li>
    </ul>
    <h4>Identity Based crypto</h4>
    <ul>
        <li>Based on the mathematical concept of pairing</li>
        <li>Use a publicly known fact as your key (e.g. email)</li>
        <li>Usually you use a random key
        <ul>
            <li>4096 bits please</li>
            <li>2048 is probably fine</li>
            <li>256 bits won't be enough</li>
        </ul>
    </ul>
    <h4>Problems</h4>
    <ul>
        <li>Core cryptography (AES, RSA, Elliptic curves) are secure, 
        from what we learned in the Snowden leaks, governments can't crack them</li>
        <li>Instead we look for flaws implementations and protocols are used to break them</li>
        <li>Often attack the random number generator</li>
        <li>The numbers in many protocols need to be cryptographically secure</li>
        <li>Turning maths to code is hard</li>
        <li>There are lots of attacks on protocols</li>
        <li>Standards bodies aren't good at crypto</li>
        <li>Sometimes they are told by NSA to include a backdoor..</li>
    </ul>
    
    <h3>Maths</h3>
    <p>As previously mentioned, there is a lot of maths in this module. 
       Here is just a small taste!</p>
       <h4>Group theory</h4>
       <ul>
           <li>Abelian groups</li>
           <li>Modular arithmetic</li>
           <li>Discrete logarithms</li>
           <li>Finite Fields</li>
           <li>Extension fields over the binary field (Strings of bits)</li>
       </ul>

       <h4>Random Number Generation</h4>
       <ul>
           <li>Generation of pseudo random bit streams (LFSRs)</li>
           <li>One of the biggest attacks on cryptosystems today</li>
           <li>Very easy to break</li>
           <li>Still widely used (e.g. MyFare cards are particularly bad)</li>
           <li>Some RNGs are so bad that once you know one number, 
               you can predict more in the series</li>
           <li>There are problems with some processors (Intel...)</li>
        </ul>

    <h3>Fuzzing</h3>
    <ul>
        <li>Feed random data to the program, and see what happens</li>
        <li>Wait for it to crash</li>
        <li>Now you know there is a vulnerability</li>
        <li>You could do Denial of Service (DoS)</li>
        <li>But you are better of trying to find a cool exploit</li>
        <br />
        <li>If you send in a carefully crafted random input, you can workout
        where things are overflowing to, and design some pretty nasty binary
        exploits.</li>
    </ul>

    <h3>Side Channel Attacks</h3>
    <p>Attacking something other than the algorithm itself. During
    implementation, a lot of care must be taken to avoid side channel attacks.
    There are a huge number of side channels that can be attacked: </p>
    <ul>
        <li>Timing attacks</li>
        <li>Measuring power assumption</li>
        <li>Acoustically listening to the CPU fan
        <ul>
            <li>Doesn't even require any special kit</li>
            <li>Standard laptop microphone</li>
            <li>Force it to do loads of public key crypto</li>
            <li>Profit</li>
        </ul></li>
    </ul>

    <h3>Block Cipher Modes</h3>
    <p>Choosing the correct mode can make a big difference to security.
    A given block cipher can be used in many ways to produce ciphertext:</p>

    <h4>Electronic Code Book (ECB)i</h4>
        <ul>
            <li>Is bad</li>
            <li>Split message into blocks, and apply to each block independently</li>
            <li>Just a monoalphabetic cipher :(</li>
         </ul>
         
         <center><img src="http://upload.wikimedia.org/wikipedia/commons/f/f0/Tux_ecb.jpg" /></center>

    <h4>Cipher Block Chaining (CBC)</h4> 
         <ul>
             <li>Is Better</li>
             <li>Previous output used as input</li>
             <li>Not as good as we once thought</li>
             <li>TLS has a few problems with this</li>
             <li>Cribs associated with cookies??</li>
             <li>When TLS broke we started using RC4 
             <ul>
                 <li>RC4 May be even worse than CBC</li>
                 <li>WEP misused it and got burned</li>
                 <li>And there are fears that the NSA has some exploits it can use</li>
             </ul>
             </li>
          </ul>

     <h4>Galois Counter Mode (GCS)</h4>
          <ul>
              <li>Is even better!</li>
              <li>But uses serious mathematics</li>
          </ul>
      
    <h3>Tangents</h3>
    <p>As we all know, Denis has a habit of wandering off topic just a little
    bit. These anecdotes often are relevant, but for a document like this, do
    interrupt the flow somewhat. As such, I have attempted to isolate the
    anecdotes from the main concepts that need to be understood.</p>

    <h4>Smart Cards</h4>
    <ul>
        <li>MyFare cards used by the university</li>
        <li>Consists of two parts 
        <ul>
            <li>Unique ID -- lets you into buildings</li>
            <li>Encrypted data -- Gives you pass for gym & bus (etc.)</li>
        </ul>
        <li>They are quite easy to crack; Pt II Secure systems class did it</li>
        <li>You can't change the unique address unless you buy dodgy ones</li>
    </ul>

    <br />

    <ul>
        <li>My fare have a big issue with their RNGs</li>
        <li>Problems with RNG in embedded systems are a common problem</li>
        <li>Powered by magnetic induction from the reader</li>
        <li>Don't gather much entropy</li>
        <li>Random numbers aren't all that random</li>
        <li>Power them up too fast and you'll get one of three random numbers</li>
        <li>MyFare Classic has been replaced by MyFare DESfire</li>
    </ul>

    <h4>Lock Picking</h4>
    <ul>
        <li>Lock picking is a big hobby at 
        <a href="http://www.lysator.liu.se/mit-guide/MITLockGuide.pdf">MIT</a></li>
        <li>Buy a couple of union locks and take the pins out to practice the nack</li>
        <li>Most house door locks are really insecure
        <li>You have to be physically there to open a physical lock, a physical
        plod could come along and physically arrest you<li>
    </ul>

    <h4>Taiwanese National Identity Card</h4>
    <strong>Assertion: Taiwan is the politically correct name</strong>
    <ul>
        <li>Gave a card out to each of the citizens</li>
        <li>Generated a public key, private key pair (RSA)</li>
        <li>Kept the private key on the card</li>
        <li>The random number generator did self testing. This is meant to checks the randomness</li>
        <li>The company that programmed the cards didn't use the testing</li>
        <li>So they ended up producing a very small number of random numbers
        <ul>
            <li>All Zeros</li>
            <li>'The next prime'</li>
        </ul></li>
        <li>This resulted in a large number of Taiwanese ID cards with the same Private key</li>
     </ul>

    <h4>Debian SSL</h4>
    <ul>
        <li>OpenSSL tries to generate randomness for generating key pairs</li>
        <li>The maintainer decided he would clean up the code a bit</li>
        Automated test tools including <a
            href="http://www-03.ibm.com/software/products/en/rational-purify-family/">Purify</a>
        (Valgrindy type thing) 
            <ul><li>Fixed the uninitialized variables</li></ul></li>
        <li>This killed the entropy</li>
        <li>This resulted in only 32,000 public key pairs being used</li>
        <li>Published in a small <a
            href="http://pentestmonkey.net/blog/metasploit-ssh-key-database">text</a>
        file</li>
        <li>Quite widely used on web servers ⇒ many are still around</li>
        <li>Chemistry still haven't fixed it</li>
    </ul>

    <h4>RSA's Be Safe library, will come up later...</h4>

    <h4>Ross Anderson's Passport Nationality Identification</h4>

    <center><img width=25% src="images/passport.jpg" /></center>

    <ul> 
        <li>Symbol on the front, tells us it has an RFID chip in it</li>
        <li>The global standard doesn't actually define what you should put on it...</li>
        <li>RFID chip contains the data that is printed inside the passport
        <ul>
            <li>JPEG image of the picture</li>
            <li>Maybe some fingerprints</li>
            <li>Date of Birth</li>
            <li>Name</li>
            <li>Passport number, etc</li>
        </ul>
        <li>The key is printed inside the passport, on the page with the picture</li>
        <li>The reader OCRs the key when you use the machine</li>
        <li>Machine compares the image on the passport with the image from a camera</li>
        <li>In reality this is done by a human operator</li>
        <li><em><strong>PAY NO ATTENTION TO THE MAN BEHIND THE CURTAIN</strong></em></li>
        <br />
        <li>There is an international standard on how to do this stuff</li>
        <li>But: Each government will implement the specification themselves
        <ul>
            <li>National contractors used, you don't want a spy making it</li>
            <li>Promote domestic technology!</li>
            <li>Can't trust the Americans! (or anyone really...)</li>
        </ul></li>
        <li>Thus, all the chips behave in a slightly different way</li>
        <li>Notably the response time</li>
        <li>By timing the responses you can work our someone's nationality based on timing</li>
        <li>Blow up a dustbin when an American (Brit or Israeli) walks by</li>
    </ul>
    
    <h4>Dropmire</h4>
    <p><a href="http://www.hpcc.ecs.soton.ac.uk/~dan/talks/DarkSideOfTheMoon/DarkSideOfTheMoon.pdf">
        Slides</a></p>
    <ul>
        <li>Technique used by NSA to read the fax at the UN</li>
        <li>The Guardian published a slide</li>
        <li>Training slide contains a real picture of it</li>
        <li>It is obvious what is going on:
        <ul>
            <li>A fax that has been Left to Right edge detected</li>
            <li>The signal has been differentiated</li>
            <li>This won't have been done in software</li>
            <li>Looks at the current in the laser diode</li>
            <li>NSA are stealing electrical signals!</li>
        </ul></li>
        <li>There is a standard (code book tempest) about not radiating these signals</li>
        <li>CRT monitors were particularly bad at radiating ⇒ LCDs aren't too bad</li>
        <li>Either:
        <ul>
            <li>EU used non tempest printers</li>
            <li>Stubborn a fax maintenance guy</li>
        </ul>
        <li>All you need to do is stop a screw from being grounded</li>
        <li>Not accountable, screws come loose all the time</li>
        <li>Tempest side channel attacks used to be a big dealio</li>
    </ul>

    <h4>WEP</h4>
    <ul>
        <li>Wired Equivalency Protocol</li>
        <li>This is true if you assume the attacker has access to the wire</li>
        <li>WEP broke because RC4 was used incorrectly</li>
        <li>Problems with initialisation vectors</li>
        <li>Most of the people who used to run WEP had all their money taken
        and don't have computers any more</li>
     </ul>

    <h3>Past Exam Papers</h3>
    <ul>
        <li>If you don't like the look of these, you might want to drop out</li>
        <li>Ben DF shows how much he knows about Fields</li>
        <li>People tend to take the mathematical questions in the exam</li>
        <li>No one does the recreational cryptography questions</li>
    </ul>
